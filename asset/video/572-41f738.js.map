{"version":3,"file":"572-41f738.js","mappings":"+JAAIA,EAAOC,E,8BAEX,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkBH,EAASY,MAAMC,KAAMR,WAIhT,IAAIS,EAAU,SAAiBC,GAC7B,OAAoB,gBAAoB,MAAOf,EAAS,CACtDgB,UAAW,iBACXC,QAAS,gBACTC,MAAO,6BACPC,MAAO,GACPC,OAAQ,IACPL,GAAQjB,IAAUA,EAAqB,gBAAoB,OAAQ,CACpEuB,EAAG,+uBACAtB,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEsB,EAAG,oJ,uBCZO,SAAUC,EAAV,GAA8D,IAA/C,UAAEC,GAA6C,EACxE,MAAMC,GAAS,IAAAC,aAgCf,OAAO,SAACF,EAAS,CACbG,MAAO,OACPC,QAhCYC,UACZ,MAAMC,QAAe,EAAAC,MAAA,OAAiE,CAClFJ,MAAO,OACPK,OAAQ,CACJC,KAAM,SACNC,WAAY,CACRC,IAAK,CAAEF,KAAM,SAAUN,MAAO,QAC9BS,OAAQ,CAAEH,KAAM,SAAUN,MAAO,QACjCU,SAAU,CAAEJ,KAAM,UAAWN,MAAO,YAKhD,GAAIG,EAAQ,CACR,IAAIQ,EAAM,GAGNA,EADAR,EAAOM,QAAUN,EAAOO,SAClB,aAAcP,GAAQS,OAEtBT,EAAOK,IAGjB,MAAM,aAAEK,IAAiB,IAAAC,oBACzBD,EAAaf,EAAQ,CACjBiB,KAAM,QACNC,MAAOL,MAOC,UAEhB,SAAC,EAAI","sources":["webpack://TopWritePlugins.video/./src/images/icon.svg","webpack://TopWritePlugins.video/./src/components/tool.tsx"],"sourcesContent":["var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"icon_svg__icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 18,\n    height: 18\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M607.923 227.84a144.486 144.486 0 0 1 143.744 137.728l.077 3.277 52.48-36.66a61.235 61.235 0 0 1 76.826 8.27l3.097 3.327 2.765 3.482c5.171 8.602 8.883 17.997 11.034 28.032l1.1 6.067v276.583a58.803 58.803 0 0 1-58.905 58.7 60.783 60.783 0 0 1-29.85-7.833l-4.429-2.765-54.528-37.018-.179 1.588a144.358 144.358 0 0 1-131.379 125.081l-5.99.359-5.888.102H268.85a144.486 144.486 0 0 1-143.744-137.728l-.153-5.632V371.174a144.486 144.486 0 0 1 138.265-143.206l5.632-.128h339.072zm0 61.26H268.826a82.56 82.56 0 0 0-82.253 77.44l-.154 4.66v281.574a82.56 82.56 0 0 0 77.773 81.946l4.66.154h338.2a82.56 82.56 0 0 0 82.254-77.44l.179-4.66.819-.87V371.2a82.56 82.56 0 0 0-77.747-81.946l-4.66-.153zm227.098 96.974-84.045 57.19-1.1 149.58 85.145 59.24v-266.01z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m529.075 534.118-128.281 74.624a25.6 25.6 0 0 1-38.477-22.118V437.376a25.6 25.6 0 0 1 38.477-22.118l128.256 74.624a25.6 25.6 0 0 1 0 44.236z\"\n  })));\n};\n\nexport { SvgIcon as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB0PSIxNjUzMjA5OTU1NTQ2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUyNDYiDQogICAgIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+DQogICAgPHBhdGggZD0iTTYwNy45MjMyIDIyNy44NGExNDQuNDg2NCAxNDQuNDg2NCAwIDAgMSAxNDMuNzQ0IDEzNy43MjhsMC4wNzY4IDMuMjc2OCA1Mi40OC0zNi42NTkyYTYxLjIzNTIgNjEuMjM1MiAwIDAgMSA3Ni44MjU2IDguMjY4OGwzLjA5NzYgMy4zMjggMi43NjQ4IDMuNDgxNmM1LjE3MTIgOC42MDE2IDguODgzMiAxNy45OTY4IDExLjAzMzYgMjguMDMybDEuMTAwOCA2LjA2NzJ2Mjc2LjU4MjRhNTguODAzMiA1OC44MDMyIDAgMCAxLTU4LjkwNTYgNTguNzAwOGMtMTAuNDk2IDAtMjAuNzYxNi0yLjcxMzYtMjkuODQ5Ni03LjgzMzZsLTQuNDI4OC0yLjc2NDgtNTQuNTI4LTM3LjAxNzYtMC4xNzkyIDEuNTg3MmExNDQuMzU4NCAxNDQuMzU4NCAwIDAgMS0xMzEuMzc5MiAxMjUuMDgxNmwtNS45OTA0IDAuMzU4NC01Ljg4OCAwLjEwMjRIMjY4Ljg1MTJhMTQ0LjQ4NjQgMTQ0LjQ4NjQgMCAwIDEtMTQzLjc0NC0xMzcuNzI4bC0wLjE1MzYtNS42MzJWMzcxLjE3NDRhMTQ0LjQ4NjQgMTQ0LjQ4NjQgMCAwIDEgMTM4LjI2NTYtMTQzLjIwNjRsNS42MzItMC4xMjhoMzM5LjA3MnogbTAgNjEuMjYwOEgyNjguODI1NmE4Mi41NiA4Mi41NiAwIDAgMC04Mi4yNTI4IDc3LjQ0bC0wLjE1MzYgNC42NTkydjI4MS41NzQ0QTgyLjU2IDgyLjU2IDAgMCAwIDI2NC4xOTIgNzM0LjcybDQuNjU5MiAwLjE1MzZoMzM4LjIwMTZhODIuNTYgODIuNTYgMCAwIDAgODIuMjUyOC03Ny40NGwwLjE3OTItNC42NTkyIDAuODE5Mi0wLjg3MDRWMzcxLjJhODIuNTYgODIuNTYgMCAwIDAtNzcuNzQ3Mi04MS45NDU2bC00LjY1OTItMC4xNTM2eiBtMjI3LjA5NzYgOTYuOTcyOGwtODQuMDQ0OCA1Ny4xOTA0LTEuMTAwOCAxNDkuNTgwOCA4NS4xNDU2IDU5LjIzODRWMzg2LjA3MzZ6Ig0KICAgICAgICAgIHAtaWQ9IjUyNDciPjwvcGF0aD4NCiAgICA8cGF0aCBkPSJNNTI5LjA3NTIgNTM0LjExODRsLTEyOC4yODE2IDc0LjYyNGEyNS42IDI1LjYgMCAwIDEtMzguNDc2OC0yMi4xMTg0di0xNDkuMjQ4YTI1LjYgMjUuNiAwIDAgMSAzOC40NzY4LTIyLjExODRsMTI4LjI1NiA3NC42MjRhMjUuNiAyNS42IDAgMCAxIDAgNDQuMjM2OHoiDQogICAgICAgICAgcC1pZD0iNTI0OCI+PC9wYXRoPg0KPC9zdmc+DQo=\";","import { GetComponentProps, Modal, useEditor, useEditorActions } from 'topwrite';\r\nimport { ReactComponent as Icon } from '../images/icon.svg';\r\nimport yaml from 'js-yaml';\r\n\r\nexport default function Tool({ Component }: GetComponentProps<'editor:tool'>) {\r\n    const editor = useEditor();\r\n\r\n    const handler = async () => {\r\n        const result = await Modal.prompt<{ src: string, poster: string, autoplay: boolean }>({\r\n            title: '插入视频',\r\n            schema: {\r\n                type: 'object',\r\n                properties: {\r\n                    src: { type: 'string', title: '视频地址' },\r\n                    poster: { type: 'string', title: '封面地址' },\r\n                    autoplay: { type: 'boolean', title: '自动播放' }\r\n                }\r\n            }\r\n        });\r\n\r\n        if (result) {\r\n            let str = '';\r\n\r\n            if (result.poster || result.autoplay) {\r\n                str = yaml.safeDump(result).trim();\r\n            } else {\r\n                str = result.src;\r\n            }\r\n\r\n            const { insertXBlock } = useEditorActions();\r\n            insertXBlock(editor, {\r\n                name: 'video',\r\n                value: str\r\n            });\r\n        }\r\n    };\r\n\r\n    return <Component\r\n        title={'插入视频'}\r\n        handler={handler}\r\n    >\r\n        <Icon />\r\n    </Component>;\r\n}\r\n"],"names":["_path","_path2","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgIcon","props","className","viewBox","xmlns","width","height","d","Tool","Component","editor","useEditor","title","handler","async","result","Modal","schema","type","properties","src","poster","autoplay","str","trim","insertXBlock","useEditorActions","name","value"],"sourceRoot":""}