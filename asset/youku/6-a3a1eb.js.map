{"version":3,"file":"6-a3a1eb.js","mappings":"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","sources":["webpack://TopWritePlugins.youku/./.topwrite/use-config.ts","webpack://TopWritePlugins.youku/./src/images/icon.svg","webpack://TopWritePlugins.youku/./src/components/tool.tsx","webpack://TopWritePlugins.youku/../../../topteam/write/packages/node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js","webpack://TopWritePlugins.youku/../../../topteam/write/packages/node_modules/.pnpm/react@17.0.2/node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://TopWritePlugins.youku/../../../topteam/write/packages/node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"],"sourcesContent":["import { BaseConfig, Config, useBook } from 'topwrite';\r\nimport { Config as ConfigType } from './config';\r\n\r\ndeclare const PLUGIN_NAME: string;\r\n\r\ndeclare module 'topwrite' {\r\n    export interface HookContext {\r\n        getConfig(): BaseConfig<ConfigType>;\r\n    }\r\n}\r\n\r\nexport function getPluginConfig(config: Config): BaseConfig<ConfigType> {\r\n\r\n    const schema = require('../config.json');\r\n\r\n    return config.getPluginConfig(PLUGIN_NAME, schema);\r\n}\r\n\r\nexport default function useConfig() {\r\n    const { config } = useBook();\r\n\r\n    return getPluginConfig(config);\r\n};\r\n","var _path, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"icon_svg__icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 18,\n    height: 18\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M441.937 5.39c51.2-8.085 105.095-5.39 158.99 2.694 99.705 18.863 191.326 64.674 264.084 134.737 67.368 61.979 113.178 145.516 137.431 231.747 26.947 91.621 24.253 191.327-2.695 282.948-10.779 37.726-26.947 75.452-45.81 107.79-5.39 10.778-13.474 21.557-21.558 32.336 2.695-8.084 5.39-13.474 8.084-21.558 5.39-18.863 2.695-37.726-5.39-53.895-8.084-18.863-26.947-35.031-45.81-43.115-21.558-8.085-45.81-5.39-64.674 5.39-8.084 2.694-13.473 10.778-21.557 16.168 29.642-45.81 48.505-97.01 53.894-150.906 8.085-59.284-2.694-121.263-24.252-177.852-21.558-48.506-53.895-94.316-91.621-126.653-37.727-35.032-86.232-59.284-134.737-72.758-61.98-16.168-126.653-16.168-188.632 0-35.031 10.78-70.063 26.948-102.4 45.81-35.031 24.253-64.673 53.895-88.926 86.232 2.695-8.084 5.39-16.168 5.39-24.252 2.694-24.253-8.085-48.506-24.253-64.674-13.474-8.084-32.337-16.168-51.2-16.168-18.863-2.695-40.421 2.694-56.59 16.168l-10.779 10.779c24.253-37.726 53.895-70.063 86.232-99.705C250.61 61.979 344.926 18.863 441.937 5.389zM51.2 293.725c8.084-16.168 16.168-32.337 24.253-45.81 0 8.084-2.695 13.473-5.39 21.558-2.695 24.252 5.39 48.505 21.558 67.368 10.779 13.474 26.947 21.558 43.116 24.253 21.558 2.694 43.116 0 61.979-13.474 2.695-2.695 8.084-5.39 10.779-8.084-10.78 16.168-18.863 35.031-24.253 53.895-24.253 64.673-29.642 137.431-10.779 204.8 10.78 45.81 32.337 88.926 59.284 126.652 35.032 45.81 78.148 80.842 129.348 105.095 53.894 26.947 113.179 37.726 172.463 32.337 51.2-2.695 102.4-18.863 148.21-45.81 40.421-21.559 75.453-53.895 105.095-91.622 0 5.39-2.695 10.78-2.695 16.169-2.694 16.168-2.694 32.336 2.695 48.505 8.084 21.558 26.948 37.726 48.505 45.81 26.948 10.78 61.98 2.695 83.537-18.863 2.695-2.694 5.39-2.694 8.084-5.39-40.42 56.59-91.62 105.096-150.905 140.127-67.368 40.421-142.82 64.674-220.968 70.063-48.505 2.695-97.01 0-145.516-8.084-99.705-21.558-194.021-72.758-266.779-145.516C75.453 797.642 29.642 708.715 10.78 614.4 0 560.505-2.695 509.305 2.695 458.105c8.084-56.59 24.252-113.179 48.505-164.379z\",\n    fill: \"#38CEFF\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M99.705 215.579c16.169-13.474 37.727-21.558 59.284-18.863 18.864 2.695 37.727 10.779 48.506 24.252 16.168 16.169 26.947 40.421 24.252 64.674 0 8.084-2.694 16.169-5.39 24.253-5.389 10.779-10.778 18.863-18.862 26.947-2.695 2.695-8.084 5.39-10.78 8.084-16.168 13.474-40.42 18.863-61.978 13.474-16.169-2.695-32.337-10.779-43.116-24.253-16.168-16.168-24.253-43.115-21.558-67.368 0-8.084 2.695-13.474 5.39-21.558 2.694-8.084 8.084-13.474 13.473-18.863l10.78-10.78zm727.58 471.579c18.862-10.78 43.115-10.78 64.673-5.39 21.558 8.085 37.726 21.558 45.81 43.116 8.085 16.169 8.085 35.032 5.39 53.895-2.695 8.084-5.39 13.474-8.084 21.558-2.695 2.695-5.39 8.084-8.085 10.779-2.694 2.695-5.389 2.695-8.084 5.39-21.558 21.557-53.894 29.641-83.537 18.862-21.557-8.084-40.42-24.252-48.505-45.81-5.39-16.169-8.084-32.337-2.695-48.505 2.695-5.39 2.695-10.78 2.695-16.169l16.169-24.252c8.084-2.695 16.168-10.78 24.252-13.474z\",\n    fill: \"#0B99FF\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M363.79 282.947c21.557-18.863 51.2-24.252 78.147-13.473 10.779 2.694 21.558 10.779 32.337 18.863 67.368 45.81 132.042 88.926 199.41 132.042 10.78 8.084 21.558 16.168 32.337 21.558 16.168 8.084 29.642 24.252 35.032 40.42 5.39 16.17 8.084 37.727 0 53.896-5.39 16.168-18.864 32.336-32.337 40.42-16.169 8.085-29.642 18.864-43.116 26.948-67.368 45.81-137.432 91.621-204.8 137.432-16.168 10.779-37.726 16.168-56.59 13.473-21.557-2.694-40.42-16.168-51.2-32.337-13.473-18.863-16.168-40.42-10.778-61.978 5.39-18.864 16.168-37.727 32.336-48.506 51.2-35.031 102.4-67.368 153.6-102.4-45.81-32.337-94.315-61.979-140.126-94.316-5.39-5.389-13.474-8.084-18.863-13.473-16.168-13.474-26.947-32.337-29.642-53.895-5.39-21.558 5.39-48.505 24.252-64.674z\",\n    fill: \"#FF4A4A\"\n  })));\n};\nexport { SvgIcon as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB0PSIxNjUzMDU1MzYxMjk3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMxMjEiDQogICAgIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+DQogICAgPHBhdGggZD0iTTQ0MS45MzcgNS4zOWM1MS4yLTguMDg1IDEwNS4wOTUtNS4zOSAxNTguOTkgMi42OTQgOTkuNzA1IDE4Ljg2MyAxOTEuMzI2IDY0LjY3NCAyNjQuMDg0IDEzNC43MzcgNjcuMzY4IDYxLjk3OSAxMTMuMTc4IDE0NS41MTYgMTM3LjQzMSAyMzEuNzQ3IDI2Ljk0NyA5MS42MjEgMjQuMjUzIDE5MS4zMjctMi42OTUgMjgyLjk0OC0xMC43NzkgMzcuNzI2LTI2Ljk0NyA3NS40NTItNDUuODEgMTA3Ljc5LTUuMzkgMTAuNzc4LTEzLjQ3NCAyMS41NTctMjEuNTU4IDMyLjMzNiAyLjY5NS04LjA4NCA1LjM5LTEzLjQ3NCA4LjA4NC0yMS41NTggNS4zOS0xOC44NjMgMi42OTUtMzcuNzI2LTUuMzktNTMuODk1LTguMDg0LTE4Ljg2My0yNi45NDctMzUuMDMxLTQ1LjgxLTQzLjExNS0yMS41NTgtOC4wODUtNDUuODEtNS4zOS02NC42NzQgNS4zOS04LjA4NCAyLjY5NC0xMy40NzMgMTAuNzc4LTIxLjU1NyAxNi4xNjggMjkuNjQyLTQ1LjgxIDQ4LjUwNS05Ny4wMSA1My44OTQtMTUwLjkwNiA4LjA4NS01OS4yODQtMi42OTQtMTIxLjI2My0yNC4yNTItMTc3Ljg1Mi0yMS41NTgtNDguNTA2LTUzLjg5NS05NC4zMTYtOTEuNjIxLTEyNi42NTMtMzcuNzI3LTM1LjAzMi04Ni4yMzItNTkuMjg0LTEzNC43MzctNzIuNzU4LTYxLjk4LTE2LjE2OC0xMjYuNjUzLTE2LjE2OC0xODguNjMyIDAtMzUuMDMxIDEwLjc4LTcwLjA2MyAyNi45NDgtMTAyLjQgNDUuODEtMzUuMDMxIDI0LjI1My02NC42NzMgNTMuODk1LTg4LjkyNiA4Ni4yMzIgMi42OTUtOC4wODQgNS4zOS0xNi4xNjggNS4zOS0yNC4yNTIgMi42OTQtMjQuMjUzLTguMDg1LTQ4LjUwNi0yNC4yNTMtNjQuNjc0LTEzLjQ3NC04LjA4NC0zMi4zMzctMTYuMTY4LTUxLjItMTYuMTY4LTE4Ljg2My0yLjY5NS00MC40MjEgMi42OTQtNTYuNTkgMTYuMTY4bC0xMC43NzkgMTAuNzc5YzI0LjI1My0zNy43MjYgNTMuODk1LTcwLjA2MyA4Ni4yMzItOTkuNzA1QzI1MC42MSA2MS45NzkgMzQ0LjkyNiAxOC44NjMgNDQxLjkzNyA1LjM4OXpNNTEuMiAyOTMuNzI1YzguMDg0LTE2LjE2OCAxNi4xNjgtMzIuMzM3IDI0LjI1My00NS44MSAwIDguMDg0LTIuNjk1IDEzLjQ3My01LjM5IDIxLjU1OC0yLjY5NSAyNC4yNTIgNS4zOSA0OC41MDUgMjEuNTU4IDY3LjM2OCAxMC43NzkgMTMuNDc0IDI2Ljk0NyAyMS41NTggNDMuMTE2IDI0LjI1MyAyMS41NTggMi42OTQgNDMuMTE2IDAgNjEuOTc5LTEzLjQ3NCAyLjY5NS0yLjY5NSA4LjA4NC01LjM5IDEwLjc3OS04LjA4NC0xMC43OCAxNi4xNjgtMTguODYzIDM1LjAzMS0yNC4yNTMgNTMuODk1LTI0LjI1MyA2NC42NzMtMjkuNjQyIDEzNy40MzEtMTAuNzc5IDIwNC44IDEwLjc4IDQ1LjgxIDMyLjMzNyA4OC45MjYgNTkuMjg0IDEyNi42NTIgMzUuMDMyIDQ1LjgxIDc4LjE0OCA4MC44NDIgMTI5LjM0OCAxMDUuMDk1IDUzLjg5NCAyNi45NDcgMTEzLjE3OSAzNy43MjYgMTcyLjQ2MyAzMi4zMzcgNTEuMi0yLjY5NSAxMDIuNC0xOC44NjMgMTQ4LjIxLTQ1LjgxIDQwLjQyMS0yMS41NTkgNzUuNDUzLTUzLjg5NSAxMDUuMDk1LTkxLjYyMiAwIDUuMzktMi42OTUgMTAuNzgtMi42OTUgMTYuMTY5LTIuNjk0IDE2LjE2OC0yLjY5NCAzMi4zMzYgMi42OTUgNDguNTA1IDguMDg0IDIxLjU1OCAyNi45NDggMzcuNzI2IDQ4LjUwNSA0NS44MSAyNi45NDggMTAuNzggNjEuOTggMi42OTUgODMuNTM3LTE4Ljg2MyAyLjY5NS0yLjY5NCA1LjM5LTIuNjk0IDguMDg0LTUuMzktNDAuNDIgNTYuNTktOTEuNjIgMTA1LjA5Ni0xNTAuOTA1IDE0MC4xMjctNjcuMzY4IDQwLjQyMS0xNDIuODIgNjQuNjc0LTIyMC45NjggNzAuMDYzLTQ4LjUwNSAyLjY5NS05Ny4wMSAwLTE0NS41MTYtOC4wODQtOTkuNzA1LTIxLjU1OC0xOTQuMDIxLTcyLjc1OC0yNjYuNzc5LTE0NS41MTZDNzUuNDUzIDc5Ny42NDIgMjkuNjQyIDcwOC43MTUgMTAuNzggNjE0LjQgMCA1NjAuNTA1LTIuNjk1IDUwOS4zMDUgMi42OTUgNDU4LjEwNWM4LjA4NC01Ni41OSAyNC4yNTItMTEzLjE3OSA0OC41MDUtMTY0LjM3OXoiDQogICAgICAgICAgZmlsbD0iIzM4Q0VGRiIgcC1pZD0iMzEyMiI+PC9wYXRoPg0KICAgIDxwYXRoIGQ9Ik05OS43MDUgMjE1LjU3OWMxNi4xNjktMTMuNDc0IDM3LjcyNy0yMS41NTggNTkuMjg0LTE4Ljg2MyAxOC44NjQgMi42OTUgMzcuNzI3IDEwLjc3OSA0OC41MDYgMjQuMjUyIDE2LjE2OCAxNi4xNjkgMjYuOTQ3IDQwLjQyMSAyNC4yNTIgNjQuNjc0IDAgOC4wODQtMi42OTQgMTYuMTY5LTUuMzkgMjQuMjUzLTUuMzg5IDEwLjc3OS0xMC43NzggMTguODYzLTE4Ljg2MiAyNi45NDctMi42OTUgMi42OTUtOC4wODQgNS4zOS0xMC43OCA4LjA4NC0xNi4xNjggMTMuNDc0LTQwLjQyIDE4Ljg2My02MS45NzggMTMuNDc0LTE2LjE2OS0yLjY5NS0zMi4zMzctMTAuNzc5LTQzLjExNi0yNC4yNTMtMTYuMTY4LTE2LjE2OC0yNC4yNTMtNDMuMTE1LTIxLjU1OC02Ny4zNjggMC04LjA4NCAyLjY5NS0xMy40NzQgNS4zOS0yMS41NTggMi42OTQtOC4wODQgOC4wODQtMTMuNDc0IDEzLjQ3My0xOC44NjNsMTAuNzgtMTAuNzh6IG03MjcuNTggNDcxLjU3OWMxOC44NjItMTAuNzggNDMuMTE1LTEwLjc4IDY0LjY3My01LjM5IDIxLjU1OCA4LjA4NSAzNy43MjYgMjEuNTU4IDQ1LjgxIDQzLjExNiA4LjA4NSAxNi4xNjkgOC4wODUgMzUuMDMyIDUuMzkgNTMuODk1LTIuNjk1IDguMDg0LTUuMzkgMTMuNDc0LTguMDg0IDIxLjU1OC0yLjY5NSAyLjY5NS01LjM5IDguMDg0LTguMDg1IDEwLjc3OS0yLjY5NCAyLjY5NS01LjM4OSAyLjY5NS04LjA4NCA1LjM5LTIxLjU1OCAyMS41NTctNTMuODk0IDI5LjY0MS04My41MzcgMTguODYyLTIxLjU1Ny04LjA4NC00MC40Mi0yNC4yNTItNDguNTA1LTQ1LjgxLTUuMzktMTYuMTY5LTguMDg0LTMyLjMzNy0yLjY5NS00OC41MDUgMi42OTUtNS4zOSAyLjY5NS0xMC43OCAyLjY5NS0xNi4xNjlsMTYuMTY5LTI0LjI1MmM4LjA4NC0yLjY5NSAxNi4xNjgtMTAuNzggMjQuMjUyLTEzLjQ3NHoiDQogICAgICAgICAgZmlsbD0iIzBCOTlGRiIgcC1pZD0iMzEyMyI+PC9wYXRoPg0KICAgIDxwYXRoIGQ9Ik0zNjMuNzkgMjgyLjk0N2MyMS41NTctMTguODYzIDUxLjItMjQuMjUyIDc4LjE0Ny0xMy40NzMgMTAuNzc5IDIuNjk0IDIxLjU1OCAxMC43NzkgMzIuMzM3IDE4Ljg2MyA2Ny4zNjggNDUuODEgMTMyLjA0MiA4OC45MjYgMTk5LjQxIDEzMi4wNDIgMTAuNzggOC4wODQgMjEuNTU4IDE2LjE2OCAzMi4zMzcgMjEuNTU4IDE2LjE2OCA4LjA4NCAyOS42NDIgMjQuMjUyIDM1LjAzMiA0MC40MiA1LjM5IDE2LjE3IDguMDg0IDM3LjcyNyAwIDUzLjg5Ni01LjM5IDE2LjE2OC0xOC44NjQgMzIuMzM2LTMyLjMzNyA0MC40Mi0xNi4xNjkgOC4wODUtMjkuNjQyIDE4Ljg2NC00My4xMTYgMjYuOTQ4LTY3LjM2OCA0NS44MS0xMzcuNDMyIDkxLjYyMS0yMDQuOCAxMzcuNDMyLTE2LjE2OCAxMC43NzktMzcuNzI2IDE2LjE2OC01Ni41OSAxMy40NzMtMjEuNTU3LTIuNjk0LTQwLjQyLTE2LjE2OC01MS4yLTMyLjMzNy0xMy40NzMtMTguODYzLTE2LjE2OC00MC40Mi0xMC43NzgtNjEuOTc4IDUuMzktMTguODY0IDE2LjE2OC0zNy43MjcgMzIuMzM2LTQ4LjUwNiA1MS4yLTM1LjAzMSAxMDIuNC02Ny4zNjggMTUzLjYtMTAyLjQtNDUuODEtMzIuMzM3LTk0LjMxNS02MS45NzktMTQwLjEyNi05NC4zMTYtNS4zOS01LjM4OS0xMy40NzQtOC4wODQtMTguODYzLTEzLjQ3My0xNi4xNjgtMTMuNDc0LTI2Ljk0Ny0zMi4zMzctMjkuNjQyLTUzLjg5NS01LjM5LTIxLjU1OCA1LjM5LTQ4LjUwNSAyNC4yNTItNjQuNjc0eiINCiAgICAgICAgICBmaWxsPSIjRkY0QTRBIiBwLWlkPSIzMTI0Ij48L3BhdGg+DQo8L3N2Zz4NCg==\";","import { GetComponentProps, Modal, useEditor, useEditorActions, md5 } from 'topwrite';\r\nimport { ReactComponent as Icon } from '../images/icon.svg';\r\nimport useConfig from '@@/use-config';\r\n\r\nconst PATTERN = /(https?:\\/\\/)?(v|player)\\.youku\\.com\\/(v_show|player\\.php|embed)(\\/.*sid)?\\/(id_)?(\\w+)=*/;\r\n\r\nexport default function Tool({ Component }: GetComponentProps<'editor:tool'>) {\r\n    const editor = useEditor();\r\n    const config = useConfig();\r\n\r\n    const handler = async () => {\r\n        const { insertXBlock } = useEditorActions();\r\n\r\n        const result = await Modal.prompt<{ id: string, width: string, height: string, password: string }>({\r\n            title: '插入优酷视频',\r\n            schema: {\r\n                type: 'object',\r\n                properties: {\r\n                    id: {\r\n                        type: 'string',\r\n                        title: '视频地址或ID'\r\n                    },\r\n                    width: {\r\n                        type: 'string',\r\n                        title: '宽度'\r\n                    },\r\n                    height: {\r\n                        type: 'string',\r\n                        title: '高度'\r\n                    },\r\n                    password: {\r\n                        type: 'string',\r\n                        title: '免密码播放'\r\n                    }\r\n                }\r\n            },\r\n            uiSchema: {\r\n                width: {\r\n                    'ui:placeholder': '自适应'\r\n                },\r\n                height: {\r\n                    'ui:placeholder': '自适应'\r\n                },\r\n                password: {\r\n                    'ui:description': '本参数为“视频私密托管服务”专用'\r\n                }\r\n            }\r\n        });\r\n\r\n        if (result) {\r\n            let { id, width, height, password } = result;\r\n\r\n            const matches = PATTERN.exec(id);\r\n            if (matches) {\r\n                id = matches[6];\r\n            }\r\n\r\n            if (password) {\r\n                const clientId = config.getValue('client_id');\r\n                if (clientId) {\r\n                    password = md5(`${password}${clientId}`);\r\n                }\r\n            }\r\n\r\n            let size = '';\r\n\r\n            if (width || height) {\r\n                size = ` =${width}x${height}`;\r\n            }\r\n\r\n            let str = `${id}${size}`;\r\n\r\n            if (password) {\r\n                str += `\\n${password}`;\r\n            }\r\n\r\n            insertXBlock(editor, {\r\n                name: 'youku',\r\n                value: str\r\n            });\r\n        }\r\n    };\r\n\r\n    return <Component\r\n        title='优酷视频'\r\n        handler={handler}\r\n    >\r\n        <Icon />\r\n    </Component>;\r\n}\r\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n"],"names":["useConfig","config","useBook","schema","require","getPluginConfig","PLUGIN_NAME","_path","_path2","_path3","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgIcon","props","className","viewBox","xmlns","width","height","d","fill","PATTERN","Tool","_ref","Component","editor","useEditor","_jsx","title","handler","async","insertXBlock","useEditorActions","result","Modal","type","properties","id","password","uiSchema","matches","exec","clientId","getValue","md5","size","str","name","value","children","Icon","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","module","exports","test1","String","getOwnPropertyNames","test2","fromCharCode","map","n","join","test3","split","forEach","letter","keys","err","shouldUseNative","from","symbols","to","val","TypeError","toObject","s","f","g","Fragment","Symbol","for","h","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","ref","__self","__source","q","c","a","k","b","e","l","defaultProps","$$typeof","_owner","current","jsx"],"sourceRoot":""}