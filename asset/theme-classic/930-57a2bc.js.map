{"version":3,"file":"930-57a2bc.js","mappings":"sNAIc,SAAUA,EAAQC,GAAmD,IAAhDC,EAAQD,EAARC,SAG/BC,GAAuCC,EAAAA,EAAAA,UAAS,QAAOC,EAAAC,IAAAH,EAAA,GAA9CI,EAAMF,EAAA,GAANE,OAAYC,EAAYH,EAAA,GAAZG,aAcrB,OAZAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAYH,EAAOI,SAAS,CAAC,gBCPhCC,iBDO6D,CAAC,GAE7DF,EAAUG,MACVL,GAAa,SAAAD,GACTA,EAAOO,SAAS,CAAC,cAAe,QAASJ,EAAUG,MACnDN,EAAOO,SAAS,CAAC,gBCZtBF,gBDYkD,aAASG,EAC1D,GAGR,GAAG,IAEIb,CACX,C","sources":["webpack://TopWritePlugins.theme-classic/./src/components/activate.tsx","webpack://TopWritePlugins.theme-classic/./.topwrite/get-name.ts"],"sourcesContent":["import { GetComponentProps, useModel } from 'topwrite';\r\nimport { useEffect } from 'react';\r\nimport getName from '@@/get-name';\r\n\r\nexport default function Activate({ children }: GetComponentProps<'activate:editor'>) {\r\n\r\n    //迁移配置\r\n    const [{ config }, { updateConfig }] = useModel('book');\r\n\r\n    useEffect(() => {\r\n        const oldConfig = config.getValue(['pluginsConfig', getName()], {});\r\n\r\n        if (oldConfig.navs) {\r\n            updateConfig(config => {\r\n                config.setValue(['themeConfig', 'navs'], oldConfig.navs);\r\n                config.setValue(['pluginsConfig', getName(), 'navs'], undefined);\r\n            });\r\n        }\r\n\r\n    }, []);\r\n\r\n    return children;\r\n}\r\n","declare const PLUGIN_NAME: string;\r\n\r\nexport default function getName() {\r\n    return PLUGIN_NAME;\r\n}\r\n"],"names":["Activate","_ref","children","_useModel","useModel","_useModel2","_slicedToArray","config","updateConfig","useEffect","oldConfig","getValue","PLUGIN_NAME","navs","setValue","undefined"],"sourceRoot":""}